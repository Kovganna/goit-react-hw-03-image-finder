{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/servises/pixabayService.jsx","components/Searchbar/Searchbar.jsx","App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","id","uuidv4","className","s","src","alt","ImageGalleryItem__image","ImageGallery","pictures","map","picture","key","modalRoot","document","querySelector","Modal","handleKeydown","e","code","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","Overlay","onClick","children","Component","axios","defaults","baseURL","getPictures","query","page","a","get","hits","data","console","log","message","Searchbar","state","searchQ","handleQueryChange","setState","value","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","SearchForm","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autocomplete","onChange","autofocus","placeholder","App","searchPage","loading","showModal","handleSearchSubmit","toggleModal","then","finally","catch","prev","prevProps","prevState","newestOnTop","rtl","pauseOnFocusLoss","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3993aaf4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1Cm5l\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1LSR5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3mJpF\",\"Modal\":\"Modal_Modal__1wSb-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__gIxbn\"};","import s from './ImageGalleryItem.module.css';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst ImageGalleryItem = () => {\r\n  const id = uuidv4();\r\n  return (\r\n    <>\r\n      <li className={s.ImageGalleryItem} key={id}>\r\n        <img src=\"\" alt=\"Pictures\" className={s.ImageGalleryItem__image} />\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ pictures = [] }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {pictures.map(picture => (\r\n        <ImageGalleryItem key={picture.key} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\r\nimport s from './Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeydown);\r\n  }\r\n\r\n  handleKeydown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          {/* <img src=\"\" alt=\"\" /> */}\r\n          {this.props.children}\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '23083473-2d7790ee8b7206f8dabf03b90';\r\nlet searchQ = 'Forest+Spring';\r\nlet searchPage = 1;\r\nlet searchImgType = 'photo';\r\nlet searchOrientation = 'horizontal';\r\nlet searchPerPage = 12;\r\n\r\naxios.defaults.baseURL = `${BASE_URL}?image_type=${searchImgType}&orientation=${searchOrientation}`;\r\n\r\nconst getPictures = async (query, page) => {\r\n  try {\r\n    const {\r\n      data: { hits },\r\n    } = await axios.get(\r\n      `&q=${searchQ}&page=${searchPage}&per_page=${searchPerPage}&key=${API_KEY}`,\r\n    );\r\n    return hits;\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n};\r\n\r\nexport default getPictures;\r\ngetPictures();\r\n","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQ: '',\r\n  };\r\n\r\n  handleQueryChange = e => {\r\n    this.setState({ searchQ: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.searchQ.trim() === '') {\r\n      toast.error('Search images and photos', {\r\n        position: 'top-center',\r\n        autoClose: 3000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.searchQ);\r\n    this.setState({ searchQ: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={s.SearchForm__button}>\r\n              <span className={s.SearchForm__buttonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.SearchForm__input}\r\n              type=\"text\"\r\n              autocomplete=\"off\"\r\n              value={this.state.searchQ}\r\n              onChange={this.handleQueryChange}\r\n              autofocus\r\n              placeholder=\"Search images and photos\"\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport ImageGallery from '../components/ImageGallery/ImageGallery';\nimport Modal from '../components/Modal/Modal';\nimport getPictures from '../components/servises/pixabayService';\nimport Searchbar from '../components/Searchbar/Searchbar';\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    searchQ: '',\n    searchPage: 1,\n    loading: false,\n    showModal: false,\n  };\n\n  componentDidMount() {\n    console.log('componentDidMount');\n    this.setState({ loading: true });\n\n    getPictures()\n      .then(pictures => this.setState({ pictures }))\n      .finally(() => this.setState({ loading: false }))\n      .catch(error => console.log(error.message));\n\n    // const { query, page } = this.state;\n    // return getPictures(query, page)\n    //   .then(res => res.json())\n    //   .then(pictures =>\n    //     this.setState(prev => ({\n    //       pictures: [...prev.pictures, ...pictures],\n    //       page: prev.page + 1,\n    //     })),\n    //   );\n  }\n\n  handleSearchSubmit = searchQ => {\n    this.setState({ searchQ });\n  };\n\n  searchPictures() {\n    const { searchQ, searchPage } = this.state;\n    return getPictures(searchQ, searchPage).then(pictures => {\n      this.setState(prev => ({\n        pictures: [...prev.picture, ...pictures],\n        page: prev.page + 1,\n      }));\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log('componentDidUpdate');\n  }\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  componentWillUnmount() {\n    console.log('componentWillUnmount');\n  }\n\n  render() {\n    const { showModal } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSearchSubmit} />\n        {this.state.loading && <h1>Loading...</h1>}\n        {this.state.pictures && <div>{this.state.searchQ}</div>}\n        <button type=\"button\" onClick={this.toggleModal}>\n          Open\n        </button>\n\n        <ImageGallery />\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <h1>Hello</h1>\n            <p>Lorem 50*3</p>\n            <button type=\"button\" onClick={this.toggleModal}>\n              Close\n            </button>\n          </Modal>\n        )}\n        <ToastContainer\n          autoClose={3000}\n          position=\"top-center\"\n          hideProgressBar\n          newestOnTop={true}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3h1Ms\",\"SearchForm\":\"Searchbar_SearchForm__HrUu6\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3pp3-\",\"SearchForm__buttonLabel\":\"Searchbar_SearchForm__buttonLabel__2PUnq\",\"SearchForm__input\":\"Searchbar_SearchForm__input__zVRYu\"};"],"sourceRoot":""}